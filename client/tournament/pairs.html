<div ng-controller="PairsCtrl">
  <div class="row-fluid">
    <h3>&nbsp;
      <a class="btn" id="add-pair" ng-click="addPair()">
        <i class="icon-plus-sign"></i> Add pair
      </a>
    </h3>
  </div>
  <div class="row-fluid">
    <div id="pairEditor" class="modal hide fade"></div>
  </div>
  <div class="row-fluid">
    <p><br/></p>
    <table id="pairsTable" class="table table-striped table-bordered table-hover contracts">
      <thead>
        <tr>
          <th rowspan="2" class="number">Pair</th>
          <th colspan="3" class="center">North/East</th>
          <th colspan="3" class="center">South/West</th>
          <th></th>
        </tr>
        <tr>
            <th>Name</th>
            <th>Number</th>
            <th>Club</th>
            <th>Name</th>
            <th>Number</th>
            <th>Club</th>
            <th></th>
        </tr>
      </thead>
      <tbody id="pairsTableBody">
        <tr ng-repeat="pair in pairs" ng-click="editPair(pair.no)">
          <td class="edit number">{{pair.no}}</td>
          <td class="edit center">{{pair.ne.name}}</td>
          <td class="edit number">{{pair.ne.memberId}}</td>
          <td class="edit center">{{pair.ne.club}}</td>
          <td class="edit center">{{pair.sw.name}}</td>
          <td class="edit number">{{pair.sw.memberId}}</td>
          <td class="edit center">{{pair.sw.club}}</td>
          <td class="delete center">
            <a href="" ng-click="removePair($index)"><i class="icon-minus-sign"></i> Remove</a>                                    
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="hide" modal="shouldBeOpen" close="close()">
    <div class="modal-header">
      <h4>Edit/add pair</h4>
    </div>
    <div class="modal-body">
      <label>Pair Number</label>
      <input type="number" step="1" min="1" max="9999" class="input-small" ng-model="editingPair.no"/>
      <h4>North/East</h4>
      <label>Name</label>
      <input type="text" ng-model="editingPair.ne.name"/>
      <label>Member id</label>
      <input type="text" ng-model="editingPair.ne.memberId"/>
      <label>Club</label>
      <input type="text" ng-model="editingPair.ne.club"/>
      <h4>South/West</h4>
      <label>Name</label>
      <input type="text" ng-model="editingPair.sw.name"/>
      <label>Member id</label>
      <input type="text" ng-model="editingPair.sw.memberId"/>
      <label>Club</label>
      <input type="text" ng-model="editingPair.sw.club"/>
      <div class="alert alert-error" ng-show="invalidPair">
          <b>Invalid pair!</b>
          <p>{{invalidPairMessage}}</p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn" ng-click="close()">Cancel</button>
      <button class="btn btn-primary" ng-click="savePair()">OK</button>
    </div>
  </div>
</div>
