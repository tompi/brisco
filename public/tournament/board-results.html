<div ng-controller="BoardsCtrl">
  <div class="row-fluid">
    <div class="span3">
      <ul id="boardList" class="nav nav-tabs nav-stacked">
        <li ng-repeat="board in boards" 
          ng-class="{active: board.no == activeBoard.no}">
          <a class="editBoard" ng-click="setActiveBoard(board)">
            <i class="icon-chevron-right"></i>
            Board {{board.no}}
          </a>
        </li>
        <li>
          <a href="#">
            <i class="icon-plus-sign"></i> Add board
          </a>
        </li>
      </ul>
    </div>
    <div class="modal hide fade">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Add result</h3>
      </div>
      <div class="modal-body">
        <ng-include src="'../template/contractEditor.html'"></ng-include>
      </div>
      <div class="modal-footer">
        <a href="#" data-dismiss="modal" class="btn">Close</a>
        <a href="#" class="btn btn-primary">Save</a>
      </div>
    </div>            
    <div class="span9">
      <h3>
        <span class="right">Board {{activeBoard.no}} <small ng-bind-html-unsafe="activeBoard.no | boardInfoFormatter"></small></span>
        <a class="btn" onclick="$('div.modal').modal('show');"><i class="icon-plus-sign"></i> Add result for board {{activeBoard.no}}</a>
      </h3>
      <table class="table table-striped table-bordered table-hover contracts">
        <thead>
          <tr>
            <th class="number">NS</th>
            <th class="number">EW</th>
            <th class="center">Contract</th>
            <th class="center">Declarer</th>
            <th class="number">Tricks</th>
            <th class="number">NS Score</th>
            <th class="number">EW Score</th>
            <th class="number">NS MP</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="result in activeBoard.results">
            <td class="number">{{result.ns}}</td>
            <td class="number">{{result.ew}}</td>
            <td class="center" ng-bind-html-unsafe="result.contract | contractFormatter"></td>
          <td class="center" ng-bind-html-unsafe="result.contract.Declarer | directionFormatter"></td>
          <td class="number">{{result.contract.Tricks}}</td>
          <td class="number" ng-bind-html-unsafe="result.contract | scoreFormatter:activeBoard.no:true"></td>
          <td class="number" ng-bind-html-unsafe="result.contract | scoreFormatter:activeBoard.no:false"></td>
          <td class="number">{{result.mp}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
    </div>
